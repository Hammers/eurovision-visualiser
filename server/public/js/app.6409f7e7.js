(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},a={app:0},i=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("85ec"),a=n.n(s);a.a},1:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s,a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-100"},[n("router-view",t._b({on:{"submit-votes":t.submit,next:t.next,reset:t.reset,"bottom-seven":t.bottomSeven,top:t.top,audience:t.audience,"toggle-voting":t.toggleVoting,"toggle-results":t.toggleResults}},"router-view",t.currentProperties,!1))],1)},o=[],r=n("8055"),l=n.n(r),c={data:function(){return{totals:{},votes:{},current:[],component:null,votingEnabled:!1,resultsEnabled:!1,audienceMode:!1,nextAudienceVote:null,totalVotes:0,votesDisplayed:0}},created:function(){this.getRealtimeData()},computed:{currentProperties:function(){return"/admin"===this.$route.path?{votes:this.votes,votingEnabled:this.votingEnabled,resultsEnabled:this.resultsEnabled,nextAudienceVote:this.nextAudienceVote}:{totals:this.totals,current:this.current,audienceMode:this.audienceMode,votingEnabled:this.votingEnabled,resultsEnabled:this.resultsEnabled,votesDisplayed:this.votesDisplayed,totalVotes:this.totalVotes}}},methods:{getRealtimeData:function(){var t=this;console.log(this.$route),s="/admin"===this.$route.path?l.a.connect("http://localhost:3000/admin"):l.a.connect("http://localhost:3000"),s.on("newdata",(function(e){console.log("data received"),console.log(e),t.totals=e.totals,t.current=e.current,t.audienceMode=e.audienceMode,t.votingEnabled=e.votingEnabled,t.resultsEnabled=e.resultsEnabled,t.totalVotes=e.totalVotes,t.votesDisplayed=e.votesDisplayed})),s.on("admindata",(function(e){console.log("data received"),console.log(e),t.votes=e.votes,t.votingEnabled=e.votingEnabled,t.resultsEnabled=e.resultsEnabled,t.nextAudienceVote=e.nextAudienceVote}))},submit:function(t){t.selected.reverse(),s.emit("submitVotes",t)},bottomSeven:function(t){s.emit("bottomSeven",{id:t})},top:function(t){s.emit("top",{id:t})},next:function(){s.emit("next")},reset:function(){s.emit("reset")},audience:function(){s.emit("audience")},toggleVoting:function(){s.emit("toggleVoting")},toggleResults:function(){s.emit("toggleResults")}}},u=c,d=(n("034f"),n("2877")),m=Object(d["a"])(u,i,o,!1,null,null,null),g=m.exports,f=(n("4989"),n("ab8b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid d-flex align-items-center justify-content-center"},[n("div",{staticClass:"row justify-content-center align-items-center w-100"},[n("div",{staticClass:"col-12 col-lg-5 my-0 mx-1 p-0"},[n("transition-group",{attrs:{tag:"div",name:"list"}},t._l(t.sortedTotals.firstHalf,(function(e){return n("div",{key:e.name,staticClass:"country-box m-1 w-100 text-light d-flex align-items-center",class:{selected:t.isSelected(e),unselected:!t.isSelected(e)}},[t.showNumberBox(e)?t._e():n("img",{staticClass:"flag mx-4 my-2",attrs:{src:"flags/"+e.flag,alt:""}}),t.showNumberBox(e)?n("div",{staticClass:"number-box mr-3 d-flex align-items-center justify-content-center text-center",class:t.getNumberClass(e)},[n("span",{staticClass:"align-middle"},[t._v(t._s(t.getValue(e)))])]):t._e(),n("div",{staticClass:"flex-grow-1"},[t._v(" "+t._s(e.name)+" ")]),n("div",{staticClass:" mr-3"},[t._v(t._s(e.value))])])})),0)],1),n("div",{staticClass:"col-12 col-lg-5 my-0 mx-1 p-0"},[n("transition-group",{attrs:{tag:"div",name:"list"}},t._l(t.sortedTotals.secondHalf,(function(e){return n("div",{key:e.name,staticClass:"country-box m-1 w-100 text-light d-flex align-items-center",class:{selected:t.isSelected(e),unselected:!t.isSelected(e)}},[t.showNumberBox(e)?t._e():n("img",{staticClass:"flag mx-4 my-2",attrs:{src:"flags/"+e.flag,alt:""}}),t.showNumberBox(e)?n("div",{staticClass:"number-box mr-3 d-flex align-items-center justify-content-center text-center",class:t.getNumberClass(e)},[n("span",{staticClass:"align-middle"},[t._v(t._s(t.getValue(e)))])]):t._e(),n("div",{staticClass:"flex-grow-1"},[t._v(" "+t._s(e.name)+" ")]),n("div",{staticClass:" mr-3"},[t._v(t._s(e.value))])])})),0)],1),n("div",{staticClass:"col-2 d-flex justify-content-center text-light vote-text align-items-center"},[n("span",{staticClass:"vote-text-number mx-2"},[t._v(t._s(t.votesDisplayed))]),t._v(" OF "),n("span",{staticClass:"vote-text-number mx-2"},[t._v(t._s(t.totalVotes))]),t._v(" COUNTRIES VOTING ")]),n("div",{staticClass:"col-7"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",style:{width:t.votePercent+"%"},attrs:{role:"progressbar","aria-valuenow":t.votePercent,"aria-valuemin":"0","aria-valuemax":"100"}})])])])])}),v=[],b=(n("7db0"),n("a434"),n("b0c0"),n("7e28")),p={name:"",props:["totals","current","audienceMode","totalVotes","votesDisplayed"],data:function(){return{countries:b}},computed:{sortedTotals:function(){for(var t=[],e=0;e<b.length;e++)t.push({id:b[e].id,name:b[e].name,value:this.totals[b[e].id],flag:b[e].flag});t=t.sort((function(t,e){return e.value-t.value}));var n=t.splice(0,t.length/2);return{firstHalf:n,secondHalf:t}},votePercent:function(){return this.votesDisplayed/this.totalVotes*100}},methods:{isSelected:function(t){return this.current.find((function(e){return e.id===t.id}))},showNumberBox:function(t){return this.audienceMode&&this.current.length>0?this.current[0].id===t.id:this.isSelected(t)},getValue:function(t){var e=this.current.find((function(e){return e.id===t.id}));return e?e.value:0},getNumberClass:function(t){var e=this.getValue(t);return 12===e?"first":10===e?"second":8===e?"third":"other"}}},h=p,y=(n("6f87"),Object(d["a"])(h,f,v,!1,null,"29ed1138",null)),x=y.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container my-3"},[n("div",{staticClass:"card row justify-content-center"},[t._l(t.votes,(function(e,s){return n("div",{key:s},[n("div",[t._v(" "+t._s(e.name)+" - "),t._l(e.selected,(function(e){return n("span",{key:e,staticClass:"mx-1"},[t._v(t._s(t.getCountryName(e)))])}))],2),n("div",[n("button",{staticClass:"btn btn-primary",attrs:{disabled:e.indexDisplayed>=1},on:{click:function(n){return t.bottomSeven(e.id)}}},[t._v("1 - 7")]),n("button",{staticClass:"btn btn-primary",attrs:{disabled:e.indexDisplayed>=7},on:{click:function(n){return t.top(e.id)}}},[t._v("8")]),n("button",{staticClass:"btn btn-primary",attrs:{disabled:e.indexDisplayed>=8},on:{click:function(n){return t.top(e.id)}}},[t._v("10")]),n("button",{staticClass:"btn btn-primary",attrs:{disabled:e.indexDisplayed>=9},on:{click:function(n){return t.top(e.id)}}},[t._v("12")])])])})),n("hr"),n("div",{staticClass:"justify-content-center align-items-center d-flex m-2"},[n("button",{staticClass:"btn btn-primary m-2",on:{click:function(e){return t.next()}}},[t._v("Clear Highlighted")]),n("button",{staticClass:"btn btn-danger m-2",on:{click:function(e){return t.audience()}}},[t._v("Next Audience")])]),n("div",{staticClass:"justify-content-center align-items-center d-flex"},[n("button",{staticClass:"btn btn-primary m-2",on:{click:function(e){return t.toggleVoting()}}},[t._v("Toggle Voting")]),t._v(" "),n("span",[t._v(t._s(t.votingEnabled?"ON":"OFF"))]),n("button",{staticClass:"btn btn-primary m-2",on:{click:function(e){return t.toggleResults()}}},[t._v("Toggle Results")]),t._v(" "),n("span",[t._v(t._s(t.resultsEnabled?"ON":"OFF"))])]),n("div",{staticClass:"justify-content-center align-items-center d-flex m-2",attrs:{div:""}},[n("button",{staticClass:"btn btn-small btn-danger m-2",on:{click:function(e){return t.reset()}}},[t._v("Reset")])]),t.nextAudienceVote?n("div",{staticClass:"justify-content-center align-items-center d-flex m-2"},[n("span",[t._v("Next Audience Score: "+t._s(t.getCountryName(t.nextAudienceVote.id))+" - "+t._s(t.nextAudienceVote.score))])]):t._e()],2)])},C=[],w={name:"",props:["votes","votingEnabled","resultsEnabled","nextAudienceVote"],data:function(){return{countries:b,resetConfirm:!1}},computed:{sortedCountries:function(){var t=this.countries;return t.sort((function(t,e){return t.name.localeCompare(e.name)}))}},methods:{bottomSeven:function(t){this.$emit("bottom-seven",t)},top:function(t){this.$emit("top",t)},next:function(){this.$emit("next")},reset:function(){this.resetConfirm=!1,this.$emit("reset")},audience:function(){this.$emit("audience")},toggleVoting:function(){this.$emit("toggle-voting")},toggleResults:function(){this.$emit("toggle-results")},getCountryName:function(t){return this.countries.find((function(e){return e.id===t})).name}}},k=w,E=Object(d["a"])(k,_,C,!1,null,"675bff58",null),V=E.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container d-flex align-items-center justify-content-center mt-5 text-light"},[n("div",{staticClass:"row justify-content-center align-items-center w-100"},[n("div",{staticClass:"col-12 col-lg-8 form-inline w-100 justify-content-center"},[n("div",{staticClass:"d-flex form-group justify-content-center"},[n("label",{staticClass:"m-3",attrs:{for:"nameInput"}},[t._v("Your Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.votes.name,expression:"votes.name"}],staticClass:"form-control",attrs:{type:"text",id:"nameInput",placeholder:"Enter name..."},domProps:{value:t.votes.name},on:{input:function(e){e.target.composing||t.$set(t.votes,"name",e.target.value)}}}),n("span",{staticClass:"small-text w-25 m-3"},[t._v(" Ryan will use this to work out who's votes are who's so please make sure this is something recognisable! (It's not stored anywhere and only Ryan will see it)")])]),t._l(t.votes.selected,(function(e,s){return n("div",{key:s,staticClass:"country-box m-1 w-100 text-light d-flex align-items-center",class:{selected:""!==t.votes.selected[s],unselected:""===t.votes.selected[s]}},[n("div",{staticClass:"number-box mr-3 d-flex align-items-center justify-content-center text-center",class:t.getNumberClass(s)},[n("span",{staticClass:"align-middle"},[t._v(t._s(t.points[s]))])]),""===t.votes.selected[s]?n("div",{staticClass:"form-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.votes.selected[s],expression:"votes.selected[index]"}],staticClass:"custom-select d-block w-100",attrs:{id:"vote"+s},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.votes.selected,s,e.target.multiple?n:n[0])}}},t._l(t.availableCountries(),(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.number+" - "+e.name+" - "+e.artist+" - "+e.song))])})),0)]):n("div",[n("div",{staticClass:"flex-grow-1"},[t._v(" "+t._s(t.countries.find((function(e){return e.id===t.votes.selected[s]})).name)+" "),n("button",{staticClass:"btn btn-danger btn-sm mx-2",on:{click:function(e){return t.removeVote(s)}}},[t._v("X")])])])])})),n("div",{staticClass:"d-flex justify-content-center"},[n("button",{staticClass:"btn btn-primary btn-lg",attrs:{disabled:!t.votes.selected.every((function(t){return""!==t}))||""===t.votes.name},on:{click:t.submit}},[t._v("Submit")])])],2)])])},j=[],A=(n("caad"),n("2532"),{name:"",data:function(){return{points:[12,10,8,7,6,5,4,3,2,1],votes:{name:"",selected:["","","","","","","","","",""]},countries:b}},methods:{availableCountries:function(){for(var t=[],e=0;e<b.length;e++)this.votes.selected.includes(b[e].id)||t.push(b[e]);return t},removeVote:function(t){console.log(t),this.votes.selected[t]="",this.$forceUpdate()},submit:function(){console.log(this.votes),this.$emit("submit-votes",this.votes),localStorage.vote2020=!0,this.$router.push("/")},getNumberClass:function(t){switch(t){case 0:return"first";case 1:return"second";case 2:return"third";default:return"other"}}}}),N=A,O=(n("d8ca"),Object(d["a"])(N,S,j,!1,null,"39fc93bb",null)),M=O.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-body text-center"},[n("div",{staticClass:"cover-container d-flex h-100 p-3 mx-auto flex-column"},[n("main",{staticClass:"inner cover",attrs:{role:"main"}},[n("img",{staticClass:"w-100",attrs:{src:"VirtualEurovisionLogo.png",alt:""}}),n("h1",{staticClass:"cover-heading"},[t._v("Good Evening Europe!")]),n("p",{staticClass:"lead"},[t._v("Here you will be able to submit your votes as well as watch the results be revealed live!")]),t.resultsEnabled?n("p",{staticClass:"lead"},[n("a",{staticClass:"btn btn-lg btn-primary",attrs:{href:"#"},on:{click:t.results}},[t._v("View Results")])]):n("p",{staticClass:"lead"},[t.voted?n("span",[t._v("Thanks for voting!")]):n("span",[t.votingEnabled?n("button",{staticClass:"btn btn-lg btn-primary",on:{click:t.vote}},[t._v("Submit Votes")]):n("span",[t._v("Voting will open after all acts have performed")])])])])])])},R=[],D={name:"",props:["totals","current","audienceMode","votingEnabled","resultsEnabled"],data:function(){return{voted:!1}},mounted:function(){localStorage.vote2020&&(this.voted=!0)},methods:{vote:function(){this.$router.push("/vote")},results:function(){this.$router.push("/results")}}},T=D,P=(n("8984"),Object(d["a"])(T,$,R,!1,null,"034effa7",null)),B=P.exports,F=n("8c4f");a["a"].use(F["a"]);var G=[{path:"/reset",component:B,beforeEnter:function(t,e,n){delete localStorage.vote2020,n({path:"/"})}},{path:"/vote",component:M,beforeEnter:function(t,e,n){localStorage.vote2020?n({path:"/"}):n()}},{path:"/admin",component:V},{path:"/results",component:x},{path:"/",component:B}],L=new F["a"]({mode:"history",routes:G});new a["a"]({render:function(t){return t(g)},router:L}).$mount("#app")},"5d30":function(t,e,n){},"6f87":function(t,e,n){"use strict";var s=n("5d30"),a=n.n(s);a.a},"7e28":function(t){t.exports=JSON.parse('[{"id":"is","name":"Israel","artist":"Eden Alene","song":"Feker Libi","flag":"israel.png","number":1},{"id":"ab","name":"Albania","artist":"Arelina Ara","song":"Shaj","flag":"albania.png","number":2},{"id":"gr","name":"Greece","artist":"Stefania","song":"SUPERG!RL","flag":"greece.png","number":3},{"id":"sz","name":"Switzerland","artist":"Gjon\'s Tears","song":"Respondez-Moi","flag":"switzerland.png","number":4},{"id":"ma","name":"Malta","artist":"Destiny","song":"All Of My Love","flag":"malta.png","number":5},{"id":"ru","name":"Russia","artist":"Little Big","song":"Uno","flag":"russia.png","number":6},{"id":"as","name":"Austria","artist":"Vincent Bueno","song":"Alive","flag":"austria.png","number":7},{"id":"bu","name":"Bulgaria","artist":"Victoria","song":"Tears Getting Sober","flag":"bulgaria.png","number":8},{"id":"uk","name":"United Kingdom","artist":"James Newman","song":"My Last Breath","flag":"uk.webp","number":9},{"id":"oz","name":"Australia","artist":"Montaigne","song":"Don\'t Break Me","flag":"australia.png","number":10},{"id":"az","name":"Azerbaijan","artist":"Efendi","song":"Cleopatra","flag":"azerbaijan.png","number":11},{"id":"no","name":"Norway","artist":"Ulrikke","song":"Attention","flag":"norway.png","number":12},{"id":"ur","name":"Ukraine","artist":"Go_A","song":"Solovey","flag":"ukraine.png","number":13},{"id":"sm","name":"San Marino","artist":"Senhit","song":"Freaky!","flag":"sanmarino.png","number":14},{"id":"sw","name":"Sweden","artist":"The Mamas","song":"Move","flag":"sweden.png","number":15},{"id":"fi","name":"Finland","artist":"Aksel","song":"Looking Back","flag":"finland.png","number":16},{"id":"ic","name":"Iceland","artist":"Dadi & Gagnamid","song":"Think About Things","flag":"iceland.png","number":17},{"id":"sp","name":"Spain","artist":"","song":"Universo","flag":"spain.png","number":18},{"id":"ro","name":"Romania","artist":"Roxen","song":"Alcohol You","flag":"romania.png","number":19},{"id":"de","name":"Denmark","artist":"Ben & Tan","song":"Yes","flag":"denmark.png","number":20},{"id":"fr","name":"France","artist":"Tom Leeb","song":"Mon Aliee (The Best In Me)","flag":"france.png","number":21},{"id":"ge","name":"Germany","artist":"Ben Dolic","song":"Violent Thing","flag":"germany.png","number":22},{"id":"ne","name":"Netherlands","artist":"Jeangu ","song":"Grow","flag":"netherlands.png","number":23},{"id":"li","name":"Lithuania","artist":"The Roop","song":"On Fire","flag":"lithuania.png","number":24},{"id":"se","name":"Serbia","artist":"Hurricane","song":"Hasta La Vista","flag":"serbia.png","number":25},{"id":"it","name":"Italy","artist":"Diodato","song":"Fai Rumore","flag":"italy.png","number":26}]')},"85ec":function(t,e,n){},8984:function(t,e,n){"use strict";var s=n("fc67"),a=n.n(s);a.a},c36d:function(t,e,n){},d8ca:function(t,e,n){"use strict";var s=n("c36d"),a=n.n(s);a.a},fc67:function(t,e,n){}});
//# sourceMappingURL=app.6409f7e7.js.map